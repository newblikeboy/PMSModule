<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Your Trading Console â€¢ QuantPulse</title>
    <link rel="stylesheet" href="./styles/main.css" />
    <link rel="stylesheet" href="./styles/app.css" />
</head>

<body class="app-body">

    <header class="app-header">
        <div class="app-container app-topbar">
            <div class="app-brand">
                <div class="brand-logo">ðŸš€</div>
                <div>
                    <div class="app-name">QuantPulse</div>
                    <div class="app-tag">Live Strategy</div>
                </div>
            </div>

            <div class="app-userbox">
                <div class="usr-plan" id="userPlan">Plan: Trial</div>
                <div class="usr-broker" id="userBroker">Broker: Not Connected</div>
                <button class="logout-btn" id="logoutBtn">Log out</button>
            </div>
        </div>
    </header>

    

    <main class="app-main app-container">

        <!-- Opportunities -->
        <section class="app-card">
            <div class="app-card-head">
                <div>
                    <div class="app-card-title">Today's Opportunities</div>
                    <div class="app-card-sub">
                        Stocks that had strong momentum and are now in pullback entry zone.
                    </div>
                </div>
                <button class="btn-primary app-small-btn" id="btnRefreshSignals">Refresh</button>
            </div>

            <div class="app-card-body" style="overflow-x:auto;">
                <table class="app-table">
                    <thead>
                        <tr>
                            <th>Symbol</th>
                            <th>Suggested Entry (LTP)</th>
                            <th>Target (+1.5%)</th>
                            <th>Stop (-0.75%)</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="signalsTableBody">
                        <tr>
                            <td colspan="5">Loadingâ€¦</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="app-card-foot">
                These are not tips. This is your framework. Use size control and discipline.
            </div>
        </section>

        <!-- Performance Today -->
        <section class="app-card">
            <div class="app-card-head">
                <div>
                    <div class="app-card-title">Performance Today</div>
                    <div class="app-card-sub">Paper trading results so far</div>
                </div>
                <button class="btn-ghost app-small-btn" id="btnRefreshReport">Update</button>
            </div>

            <div class="app-stats-row">
                <div class="app-stat-box">
                    <div class="app-stat-label">Closed Trades</div>
                    <div class="app-stat-value" id="repClosed">--</div>
                </div>

                <div class="app-stat-box">
                    <div class="app-stat-label">Wins / Losses</div>
                    <div class="app-stat-value" id="repWL">--</div>
                </div>

                <div class="app-stat-box">
                    <div class="app-stat-label">Net PnL (â‚¹)</div>
                    <div class="app-stat-value" id="repPnL">--</div>
                </div>

                <div class="app-stat-box">
                    <div class="app-stat-label">Best Trade</div>
                    <div class="app-stat-value" id="repBest">--</div>
                </div>
            </div>

            <div class="app-card-foot">
                We auto-calc target/SL, exit for you in paper mode, and track PnL.
            </div>
        </section>

        <!-- Your Open Trades -->
        <section class="app-card">
            <div class="app-card-head">
                <div>
                    <div class="app-card-title">Your Open Positions (Paper)</div>
                    <div class="app-card-sub">We'll close automatically at target or stop</div>
                </div>
                <button class="btn-ghost app-small-btn" id="btnRefreshTrades">Refresh</button>
            </div>

            <div class="app-card-body" style="overflow-x:auto;">
                <table class="app-table">
                    <thead>
                        <tr>
                            <th>Symbol</th>
                            <th>Qty</th>
                            <th>Entry</th>
                            <th>Target</th>
                            <th>Stop</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="tradesTableBody">
                        <tr>
                            <td colspan="6">Loadingâ€¦</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="app-card-foot">
                When you're happy with paper results, connect broker to go live.
            </div>
        </section>

        <!-- Your Settings -->
        <section class="app-card">
            <div class="app-card-head">
                <div>
                    <div class="app-card-title">Your Automation Settings</div>
                    <div class="app-card-sub">You stay in control. Always.</div>
                </div>
            </div>

            <div class="settings-grid">
                <div class="settings-block">
                    <div class="settings-label">Subscription</div>
                    <div class="settings-value" id="planName">Trial (Upgrade Available)</div>
                    <button class="btn-primary app-small-btn" id="upgradePlanBtn">Upgrade Plan</button>
                </div>



                <div class="settings-block">
                    <div class="settings-label">Broker Connection</div>
                    <div class="settings-value" id="brokerStatus">Not Connected</div>
                    <button class="btn-primary app-small-btn" id="openBrokerModalBtn">Connect / Update Broker</button>
                </div>

                <div class="settings-block">
                    <div class="settings-label">Automation</div>
                    <div class="settings-value" id="autoMode">OFF</div>
                    <button class="btn-ghost app-small-btn" id="toggleAutoBtn">Enable Auto Trading</button>
                    <div class="settings-hint">
                        We will never place live orders until you enable this.
                        Paper mode keeps running even if this is OFF.
                    </div>
                </div>

                <div class="settings-block">
                    <div class="settings-label">Risk / Trade</div>
                    <div class="settings-value">Target +1.5% / Stop -0.75%</div>
                    <div class="settings-hint">
                        Fixed risk model. No revenge trades. No averaging down.
                    </div>
                </div>
            </div>

            <div class="app-card-foot">
                We will never touch your live broker without Automation = ON.
            </div>
        </section>


    </main>
    <!-- BROKER CONNECT MODAL -->
    <div class="modal-overlay" id="brokerModal">
        <div class="modal-card">
            <button class="modal-close" id="closeBrokerModalBtn">&times;</button>
            <div class="modal-head">
                <div class="modal-title">Connect Broker</div>
                <div class="modal-sub">
                    Choose your broker and paste your API details.
                    We will NOT place live trades without your explicit approval.
                </div>
            </div>

            <form id="brokerForm" class="modal-form">
                <div class="form-field">
                    <label>Broker</label>
                    <select name="brokerName" required>
                        <option value="">Select broker</option>
                        <option value="ZERODHA">Zerodha</option>
                        <option value="ANGEL">Angel One</option>
                        <option value="FYERS">Fyers</option>
                    </select>
                </div>

                <div class="form-field">
                    <label>API Key</label>
                    <input type="text" name="apiKey" placeholder="Your API key" />
                </div>

                <div class="form-field">
                    <label>Client ID / User ID</label>
                    <input type="text" name="clientId" placeholder="abc123 / client code" />
                </div>

                <div class="form-field">
                    <label>Access Token / Session Token</label>
                    <input type="text" name="accessToken" placeholder="access token" />
                </div>

                <div class="form-field">
                    <label>Refresh Token (if any)</label>
                    <input type="text" name="refreshToken" placeholder="refresh token" />
                </div>

                <button class="btn-primary form-btn" type="submit" id="brokerSubmitBtn">
                    Save Broker â†’
                </button>

                <div class="form-note" id="brokerMsg">
                    Only you can authorize real trading.
                </div>
            </form>
        </div>
    </div>


    <footer class="app-footer">
        <div class="app-container app-footer-row">
            <div class="app-foot-left">
                Â© <span id="yearNow"></span> QuantPulse. Educational use only. No guaranteed returns.
            </div>
            <div class="app-foot-right">
                Need help? support@example.com
            </div>
        </div>
    </footer>

    <script src="./js/app.js"></script>
</body>

</html>